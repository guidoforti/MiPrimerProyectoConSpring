<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
    <head th:replace= "/fragment/head :: head" > </head>
    <body>
       
  
 <nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">GuidoTicias</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" th:href="@{/noticia/panelAdmin}" sec:authorize ="hasRole('ADMIN')">Panel de Admin</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/noticia/inicio}">Inicio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/admin/listaDeUsuarios}">ver lista de usuarios</a>
        </li>
        <li class="nav-item">
          <a class="nav-link"  href="/logout">cerrar sesion</a>
        </li>
    
       
        
      </ul>
    </div>
  </div>
</nav> 
       
        
  
        
<form action="/noticia/subirLaNoticia" method="POST"> 
 
    <h1>subir una noticia</h1>    
 <div class="mb-3">
  <label for="tituloNoticia" class="form-label">Titulo De La Noticia</label>
  
  <input type="text" class="form-control" id="tituloNoticia" name="tituloDeNoticia" placeholder="ingrese el nombre del autor">
</div>
<div class="mb-3">
  <label for="cuerpoNoticia" class="form-label">INGRESE EL CUERPO DE LA NOTICIA</label>
  <textarea class="form-control" id="cuerpoNoticia"  name="cuerpo"></textarea>
</div>
  <button type="submit" class="btn btn-primary">SUBIR NOTICIA</button>
  
 
</form>
    
   
    
    <div th:if="${error != null}" class="card text-bg-danger mb-3" style="max-width: 18rem;">
 
  <div class="card-body">
    <h5 class="card-title">ERROR</h5>
    <p th:text="${error}" class="card-text"></p>
  </div>
            
</div>
        
<div th:if="${exito != null}" class="card text-bg-success mb-3" style="max-width: 18rem;">
  
  <div class="card-body">
    <h5 class="card-title">EXITO</h5>
    <p th:text="${exito}" class="card-text"></p>
  </div>
</div>
   
       
    
 
    
    <table   class="table">
  <thead>
    <tr >
      <th scope="col">ID</th>
      <th scope="col">Nombre</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody th:each="noticia : ${noticias}" >
    <tr>
      <th scope="row" th:text="${noticia.id}"></th>
      <td th:text="${noticia.titulo}"></td>
      <td><a th:href="@{/noticia/modificar/__${noticia.id}__}">modificar</a></td>
      <td><a th:href="@{/noticia/eliminar/__${noticia.id}__}" >eliminar</a></td>
    </tr>
    
  </tbody>
    </table> 
    </body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>
